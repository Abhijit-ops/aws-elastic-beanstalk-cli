# -*-perl-*-
package.EB-CLI = {
    interfaces = (1.0);

    build-system = brazilpython;

    build-tools = {
        1.0 = {
            BrazilPython = 2.0;
            Python-setuptools = 1.1;
            Sphinx = 1.1.2;
            Flake8 = 1.5;

            # Python versions to build for
            Python27 = 1.0;
        };
    };

    dependencies = {
        1.0 = {
        };
    };

    runtime-dependencies = {
        1.0 = {
            # If you're building a library, you don't need a runtime
            # dependency on Python. If you're writing a top-level
            # package, uncomment the following lines to add a
            # dependency.  Read more at https://w.amazon.com/?Python/Apollo#Deploying_Python
            #Python27 = 1.0;
            #MakePython27Default = 1.0;
        };
    };

    test-dependencies = {
        1.0 = {
            PythonTestingDependencies = 1.0;
        };
    };

    python = {
        default-version = "2.7";
        setup-type = setuptools;
        unittesttype = pytest;
        # this test line must be modified by adding --cov
        # YOUR_PYTHON_MODULE and uncommented in order to enable
        # coverage.  You really, really should create tests.
        #
        # You must specify the python module or package root you wish to
        # cover using the --cov command line flag. As an example, "--cov
        # bender.core" would collect coverage for every module and
        # package in the bender.core namespace.

        # testargs = "-v --cov-report html --cov-report xml --cov-report term-missing --cov your_package";
        doctool = sphinx;
    };

    # Comment the following if this is not a pure Python package
    deploy = {
        generic = true;
    };

    build-environment = {
        chroot = basic;
        network-access = blocked;
    };

    targets = {
        # see setup.py for the actual build logic
        # keep this line for brazil-path to work
        python = { type = python; };
    };
};
